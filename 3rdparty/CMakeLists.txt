set(BUILD_SHARED_LIBS OFF)
set(CMAKE_POSITION_INDEPENDENT_CODE ON)
set(CMAKE_POLICY_DEFAULT_CMP0077 NEW)

if (NOT FFTW_FOUND)
  option(BUILD_TESTS "Build FFTW tests" OFF)

  if(SWITCH)
    set(SIZEOF_FLOAT 4)
    set(SIZEOF_DOUBLE 8)
    set(SIZEOF_INT 4)
    set(SIZEOF_LONG 8)
    set(SIZEOF_LONG_LONG 8)
    set(SIZEOF_UNSIGNED_INT 4)
    set(SIZEOF_UNSIGNED_LONG 8)
    set(SIZEOF_UNSIGNED_LONG_LONG 8)
    set(SIZEOF_SIZE_T 8)
    set(SIZEOF_PTRDIFF_T 8)
  endif(SWITCH)

  add_subdirectory(fftw)
endif (NOT FFTW_FOUND)
